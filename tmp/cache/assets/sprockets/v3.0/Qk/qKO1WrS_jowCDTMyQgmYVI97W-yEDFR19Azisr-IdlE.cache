I"ê(function() {
  $(document).on('turbolinks:load', function() {
    var data, num_of_tweets, resetSliders, tweets_step;
    data = document.getElementById('data-object');
    num_of_tweets = data.getAttribute('data-numOfTweets');
    tweets_step = num_of_tweets / 5;
    $('.loading').hide();
    $('#sent-slider').slider({
      range: true,
      step: tweets_step,
      min: 0,
      max: num_of_tweets,
      values: [0, num_of_tweets],
      stop: function(event, ui) {
        $.ajax({
          url: '/filter/sentiment',
          type: 'GET',
          data: {
            low: ui.values[0],
            high: ui.values[1]
          },
          dataType: 'script',
          success: function(response) {}
        });
      },
      change: function(event, ui) {
        $('#tweet_sent1').val(ui.values[0]);
        $('#tweet_sent2').val(ui.values[1]);
      }
    });
    $('#close-slider').slider({
      range: true,
      step: tweets_step,
      min: 0,
      max: num_of_tweets,
      values: [0, num_of_tweets],
      stop: function(event, ui) {
        $.ajax({
          url: '/filter/closeness',
          type: 'GET',
          data: {
            low: ui.values[0],
            high: ui.values[1]
          },
          dataType: 'script',
          success: function(response) {}
        });
      },
      change: function(event, ui) {
        $('#tweet_close1').val(ui.values[0]);
        $('#tweet_close2').val(ui.values[1]);
      }
    });
    $('#post-slider').slider({
      range: true,
      step: tweets_step,
      min: 0,
      max: num_of_tweets,
      values: [0, num_of_tweets],
      stop: function(event, ui) {
        $.ajax({
          url: '/filter/poster_frequency',
          type: 'GET',
          data: {
            low: ui.values[0],
            high: ui.values[1]
          },
          dataType: 'script',
          success: function(response) {}
        });
      },
      change: function(event, ui) {
        $('#tweet_post1').val(ui.values[0]);
        $('#tweet_post2').val(ui.values[1]);
      }
    });
    $('#pop-slider').slider({
      range: true,
      step: tweets_step,
      min: 0,
      max: num_of_tweets,
      values: [0, num_of_tweets],
      stop: function(event, ui) {
        $.ajax({
          url: '/filter/popularity',
          type: 'GET',
          data: {
            low: ui.values[0],
            high: ui.values[1]
          },
          dataType: 'script',
          success: function(response) {}
        });
      },
      change: function(event, ui) {
        $('#tweet_pop1').val(ui.values[0]);
        $('#tweet_pop2').val(ui.values[1]);
      }
    });
    $('#celeb-slider').slider({
      range: true,
      step: tweets_step,
      min: 0,
      max: num_of_tweets,
      values: [0, num_of_tweets],
      stop: function(event, ui) {
        $.ajax({
          url: '/filter/verified',
          type: 'GET',
          data: {
            low: ui.values[0],
            high: ui.values[1]
          },
          dataType: 'script',
          success: function(response) {}
        });
      },
      change: function(event, ui) {
        $('#tweet_ver1').val(ui.values[0]);
        $('#tweet_ver2').val(ui.values[1]);
      }
    });
    resetSliders = function() {
      $('*[id*=slider]:visible').each(function() {
        var options;
        options = $(this).slider('option');
        $(this).slider('values', [options.min, options.max]);
      });
      $.ajax({
        url: '/reset',
        type: 'GET',
        dataType: 'script',
        success: function(response) {
          console.log('success');
        }
      });
    };
    $('#reset-button').click(function() {
      resetSliders();
    });
  });

}).call(this);
:ET